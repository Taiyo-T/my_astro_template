---
import { LOCALE_DATA, getLocalePath, type Locale } from "../../i18n/config";
import LanguageSwitcher from "../LanguageSwitcher.astro";
import ThemeToggle from "../ThemeToggle.astro";

interface Props {
    locale: Locale;
    translations: Record<string, string>;
    currentPath?: string;
}

const { 
    locale, 
    translations,
    currentPath = ""
} = Astro.props;

const localeData = LOCALE_DATA[locale];
const homeUrl = getLocalePath(locale, "");
---

<header class="bg-white dark:bg-gray-900 shadow-sm border-b border-gray-200 dark:border-gray-700 mb-8 transition-colors">
    <div class="max-w-4xl mx-auto px-4 py-4">
        <div class="flex justify-between items-center" dir={localeData.direction === 'rtl' ? 'rtl' : 'ltr'}>
            <a href={homeUrl} class="text-2xl font-bold text-gray-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400 transition-colors">
                {translations.hello}
            </a>
            <div class="flex items-center space-x-3 rtl:space-x-reverse">
                <ThemeToggle locale={locale} />
                <LanguageSwitcher currentLocale={locale} currentPath={Astro.url.pathname} />
            </div>
        </div>
    </div>
</header>